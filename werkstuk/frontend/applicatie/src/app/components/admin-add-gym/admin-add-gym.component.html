<div class="container my-4">
  <h2 class="mb-3">{{ editingGym ? 'Bewerk sportschool' : 'Voeg een sportschool toe' }}</h2>

  <form [formGroup]="form" (ngSubmit)="editingGym ? updateGym(selectedGymId!) : addGym()" enctype="multipart/form-data">
    <div class="form-group mb-2">
      <label for="name">Naam sportschool</label>
      <input formControlName="name" id="name" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="city">Stad</label>
      <input formControlName="city" id="city" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="rating">Beoordeling (1-5)</label>
      <input formControlName="rating" id="rating" type="number" class="form-control" min="1" max="5" required />
    </div>

    <div class="form-group mb-2">
      <label for="opening_hours">Openingstijden</label>
      <input formControlName="opening_hours" id="opening_hours" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="address">Adres</label>
      <input formControlName="address" id="address" class="form-control" required />
    </div>

    <div class="form-group form-check mb-2">
      <input type="checkbox" formControlName="personal_trainer" id="personal_trainer" class="form-check-input" />
      <label for="personal_trainer" class="form-check-label">Persoonlijke trainer beschikbaar</label>
    </div>

    <div class="form-group mb-2">
      <label for="email">E-mailadres</label>
      <input type="email" formControlName="email" id="email" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="phone">Telefoonnummer</label>
      <input formControlName="phone" id="phone" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="website">Website</label>
      <input type="url" formControlName="website" id="website" class="form-control" required />
    </div>

    <div class="form-group mb-2">
      <label for="pressure_id">Drukte-indicator</label>
      <select formControlName="pressure_id" id="pressure_id" class="form-control" required>
        <option *ngFor="let pressure of pressures" [value]="pressure.id">{{ pressure.name }}</option>
      </select>
    </div>

    <div class="form-group mb-2">
      <label for="category_id">Categorie</label>
      <select formControlName="category_id" id="category_id" class="form-control" required>
        <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
      </select>
    </div>

    <div class="form-group mb-2">
      <label for="province_id">Provincie</label>
      <select formControlName="province_id" id="province_id" class="form-control" required>
        <option *ngFor="let province of provinces" [value]="province.id">{{ province.name }}</option>
      </select>
    </div>

    <label class="mt-3">Abonnementen</label>

    <div class="form-group mb-2">
      <input type="number" class="form-control" placeholder="Prijs 1" formControlName="priceOne" required />
      <input type="text" class="form-control mt-1" placeholder="Beschrijving 1" formControlName="descriptionOne" required />
      <input type="text" class="form-control mt-1" placeholder="Type abonnement 1" formControlName="planTypeOne" required />
    </div>

    <div class="form-group mb-2">
      <input type="number" class="form-control" placeholder="Prijs 2" formControlName="priceTwo" required />
      <input type="text" class="form-control mt-1" placeholder="Beschrijving 2" formControlName="descriptionTwo" required />
      <input type="text" class="form-control mt-1" placeholder="Type abonnement 2" formControlName="planTypeTwo" required />
    </div>

    <div class="form-group mb-2">
      <input type="number" class="form-control" placeholder="Prijs 3" formControlName="priceThree" required />
      <input type="text" class="form-control mt-1" placeholder="Beschrijving 3" formControlName="descriptionThree" required />
      <input type="text" class="form-control mt-1" placeholder="Type abonnement 3" formControlName="planTypeThree" required />
    </div>

    <div class="form-group mb-2">
      <label for="logo">Logo uploaden</label>
      <input type="file" class="form-control" (change)="onLogoSelected($event)" accept="image/*" [required]="!editingGym" />
    </div>

    <div class="form-group mb-2">
      <label for="images">Galerijafbeeldingen</label>
      <input type="file" class="form-control" (change)="onImagesSelected($event)" accept="image/*" multiple [required]="!editingGym" />
    </div>

    <button type="submit" class="btn btn-primary me-2 mt-2">
      {{ editingGym ? 'Update sportschool' : 'Sportschool toevoegen' }}
    </button>
    <button *ngIf="editingGym" type="button" class="btn btn-secondary mt-2" (click)="resetForm()">Annuleren</button>
  </form>

  <h2 class="mt-4">Bestaande sportscholen</h2>
  <div *ngFor="let gym of gyms" class="card p-3 mt-2">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex flex-column">
        <strong>{{ gym.name }}</strong>
        <small>{{ gym.city }} â€¢ {{ gym.email }}</small>
      </div>
      <div class="d-flex">
        <button class="btn btn-sm btn-outline-primary me-2" (click)="editGym(gym)">Bewerken</button>
        <button class="btn btn-sm btn-outline-danger" (click)="deleteGym(gym.id)">Verwijderen</button>
      </div>
    </div>
  </div>

  <div *ngIf="successMessage" class="alert alert-success mt-3">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
</div>
